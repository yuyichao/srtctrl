add_run(testjsonstm
  COMMAND env GI_TYPELIB_PATH="${PROJECT_BINARY_DIR}"/lib/srtsock
  PYTHONPATH="${PROJECT_BINARY_DIR}"/lib
  LD_LIBRARY_PATH="${PROJECT_BINARY_DIR}"/lib/srtsock
  "${PYTHON_EXECUTABLE}" "${CMAKE_CURRENT_SOURCE_DIR}/test_jsonstm.py")

add_run(test_srtaddr
  COMMAND env GI_TYPELIB_PATH="${PROJECT_BINARY_DIR}/lib/srtsock"
  PYTHONPATH="${PROJECT_BINARY_DIR}"/lib
  LD_LIBRARY_PATH="${PROJECT_BINARY_DIR}"/lib/srtsock
  "${PYTHON_EXECUTABLE}" "${CMAKE_CURRENT_SOURCE_DIR}/test_srtaddr.py")

add_run(test_srtconn
  WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
  COMMAND env GI_TYPELIB_PATH="${PROJECT_BINARY_DIR}/lib/srtsock"
  PYTHONPATH="${PROJECT_BINARY_DIR}"/lib
  LD_LIBRARY_PATH="${PROJECT_BINARY_DIR}"/lib/srtsock
  "${PYTHON_EXECUTABLE}" "${CMAKE_CURRENT_SOURCE_DIR}/test_srtconn.py")

add_run(test_srtconn2
  WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
  COMMAND env GI_TYPELIB_PATH="${PROJECT_BINARY_DIR}/lib/srtsock"
  PYTHONPATH="${PROJECT_BINARY_DIR}"/lib
  LD_LIBRARY_PATH="${PROJECT_BINARY_DIR}"/lib/srtsock
  "${PYTHON_EXECUTABLE}" "${CMAKE_CURRENT_SOURCE_DIR}/test_srtconn2.py")

add_run(test_srt_comm_ps
  WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
  COMMAND env GI_TYPELIB_PATH="${PROJECT_BINARY_DIR}/lib/srtsock"
  PYTHONPATH="${PROJECT_BINARY_DIR}"/lib
  LD_LIBRARY_PATH="${PROJECT_BINARY_DIR}"/lib/srtsock
  "${PYTHON_EXECUTABLE}" "${CMAKE_CURRENT_SOURCE_DIR}/test_ps.py")

add_run(test_wrapper2
  WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
  COMMAND env GI_TYPELIB_PATH="${PROJECT_BINARY_DIR}/lib/srtsock"
  PYTHONPATH="${PROJECT_BINARY_DIR}"/lib
  LD_LIBRARY_PATH="${PROJECT_BINARY_DIR}"/lib/srtsock
  "${PYTHON_EXECUTABLE}" "${CMAKE_CURRENT_SOURCE_DIR}/test_wrapper2.py")

add_run(test_plugin
  WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
  COMMAND env GI_TYPELIB_PATH="${PROJECT_BINARY_DIR}/lib/srtsock"
  PYTHONPATH="${PROJECT_BINARY_DIR}"/lib
  LD_LIBRARY_PATH="${PROJECT_BINARY_DIR}"/lib/srtsock
  SRT_MODULES_PATH="${PROJECT_SOURCE_DIR}/lib/modules:${PROJECT_BINARY_DIR}/lib/modules:${CMAKE_CURRENT_SOURCE_DIR}/modules"
  "${PYTHON_EXECUTABLE}" "${CMAKE_CURRENT_SOURCE_DIR}/test_plugin.py")

add_run(test_jsonsock
  WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
  COMMAND env GI_TYPELIB_PATH="${PROJECT_BINARY_DIR}/lib/srtsock"
  PYTHONPATH="${PROJECT_BINARY_DIR}"/lib
  LD_LIBRARY_PATH="${PROJECT_BINARY_DIR}"/lib/srtsock
  "${PYTHON_EXECUTABLE}" "${CMAKE_CURRENT_SOURCE_DIR}/test_jsonsock.py")

add_run(test_jsonsock2
  WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
  COMMAND env GI_TYPELIB_PATH="${PROJECT_BINARY_DIR}/lib/srtsock"
  PYTHONPATH="${PROJECT_BINARY_DIR}"/lib
  LD_LIBRARY_PATH="${PROJECT_BINARY_DIR}"/lib/srtsock
  "${PYTHON_EXECUTABLE}" "${CMAKE_CURRENT_SOURCE_DIR}/test_jsonsock2.py")

add_run(test_jsonsock3
  WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
  COMMAND env GI_TYPELIB_PATH="${PROJECT_BINARY_DIR}/lib/srtsock"
  PYTHONPATH="${PROJECT_BINARY_DIR}"/lib
  LD_LIBRARY_PATH="${PROJECT_BINARY_DIR}"/lib/srtsock
  "${PYTHON_EXECUTABLE}" "${CMAKE_CURRENT_SOURCE_DIR}/test_jsonsock3.py")
